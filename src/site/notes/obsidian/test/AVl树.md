---
{"dg-publish":true,"permalink":"/obsidian/test/a-vl/","created":"2024-09-08T15:30:13.859+08:00","updated":"2024-09-08T16:03:27.243+08:00"}
---

# æ‘Šè¿˜åˆ†æž
ä½œç”¨ï¼š
	åˆ†æžæ•°æ®ç»“æž„ä¸Šæ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ã€‚å³ä½¿å•ä¸ªæ“ä½œåœ¨æœ€åæƒ…å†µä¸‹å¯èƒ½å¾ˆæ…¢ï¼Œä½†åœ¨ä¸€ç³»åˆ—æ“ä½œä¸­ï¼Œè¿™äº›æ“ä½œçš„å¹³å‡æ€§èƒ½å¾€å¾€è¡¨çŽ°å¾—æ›´å¥½ã€‚

ä¸»è¦æ€æƒ³
	è¡¡é‡æ“ä½œåœ¨é•¿æœŸå†…çš„ä»£ä»·ï¼Œå¹³æ‘Šåˆ°æ¯æ¬¡æ“ä½œä¸Šã€‚å®ƒæœ‰ä¸‰ç§å¸¸è§çš„åˆ†æžæ–¹æ³•ï¼š**èšåˆæ³•ã€è®¡è´¦æ³•ï¼ˆåˆç§°åˆç®—æ³•ï¼‰ã€åŠ¿èƒ½æ³•**


>[!star]-
>1. åˆ†æžæ—¶é—´å¤æ‚åº¦é’ˆå¯¹çš„æ˜¯ä¸€ä¸ªå…·ä½“çš„æ“ä½œï¼›
>2.  è€Œæ‘Šè¿˜åˆ†æžçš„å¯¹è±¡æ˜¯ä¸€ä¸ªæ•°æ®ç»“æž„çš„ä¸€ç³»åˆ—æ“ä½œï¼ŒåŒ…å«æˆæœ¬è¾ƒä½Žä¸Žè¾ƒé«˜çš„ä¸åŒæ“ä½œï¼Œä¸Žæ¦‚çŽ‡æ— å…³

### 1. **èšåˆæ³•ï¼ˆAggregate Methodï¼‰**

èšåˆæ³•æ˜¯ä¸€ç§æœ€ç›´æŽ¥çš„æ‘Šè¿˜åˆ†æžæ–¹æ³•ã€‚å®ƒé€šè¿‡åˆ†æžä¸€ç³»åˆ—æ“ä½œçš„æ€»æˆæœ¬ï¼Œç„¶åŽé€šè¿‡æ€»æ“ä½œæ¬¡æ•°å¹³å‡ä¸‹æ¥ï¼Œå¾—åˆ°æ¯æ¬¡æ“ä½œçš„å¹³å‡æˆæœ¬ã€‚è¯¥æ–¹æ³•çš„ä¸»è¦æ€æƒ³æ˜¯è®¡ç®—æ•´ä¸ªåºåˆ—çš„æ‰€æœ‰æ“ä½œçš„æ€»æˆæœ¬ \( T(n) \)ï¼Œå†é™¤ä»¥æ“ä½œæ¬¡æ•° \( n \)ï¼Œä»Žè€Œå¾—å‡ºæ‘Šè¿˜çš„å¹³å‡æˆæœ¬ \( T(n) / n \)ã€‚

#### ä¸¾ä¾‹è¯´æ˜Žï¼š
å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼Œå®ƒæ¯å½“æ»¡æ—¶å°±éœ€è¦æ‰©å®¹ï¼ˆå¦‚å°†å®¹é‡ç¿»å€ï¼‰ã€‚åœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ’å…¥å…ƒç´ çš„æˆæœ¬æ˜¯ \( O(n) \)ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å¤åˆ¶æ•´ä¸ªæ•°ç»„ï¼Œä½†é€šè¿‡èšåˆæ³•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¤§éƒ¨åˆ†æ“ä½œæ˜¯å¸¸æ•°æ—¶é—´ \( O(1) \) çš„ã€‚

1. å½“æ•°ç»„å®¹é‡ä¸º 1 æ—¶ï¼Œæ’å…¥ä¸€ä¸ªå…ƒç´ éœ€è¦å¸¸æ•°æ—¶é—´ \( O(1) \)ï¼›
2. å®¹é‡ç¿»å€æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†æ•°ç»„çš„æ‰€æœ‰å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ï¼Œè¿™ç§å¤åˆ¶æ“ä½œåœ¨ä¸€äº›æ’å…¥æ“ä½œä¸Šå‘ç”Ÿï¼›
3. å¯¹äºŽä¸€ç³»åˆ—çš„ \( n \) æ¬¡æ’å…¥æ“ä½œï¼Œæ€»çš„å¤åˆ¶æ¬¡æ•°ä¸º \( 1 + 2 + 4 + \dots + n/2 = O(n) \)ã€‚

å› æ­¤ï¼Œé€šè¿‡èšåˆæ³•ï¼Œæ‰€æœ‰æ’å…¥æ“ä½œçš„æ€»æˆæœ¬æ˜¯ \( O(n) \)ï¼Œè€Œæ¯æ¬¡æ“ä½œçš„æ‘Šè¿˜æˆæœ¬æ˜¯ \( O(1) \)ã€‚

```ad-tip
é€‚ç”¨äºŽå¯¹ç®€å•å’Œå¤æ‚æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ–¹ä¾¿è®¡ç®—çš„æƒ…å½¢
>é€šè¿‡æ•°å­¦æ–¹å¼è®¡ç®—Mæ­¥æ“ä½œçš„æ—¶é—´æ€»å’Œï¼Œå†é™¤ä»¥M
```
### 2. **è®¡è´¦æ³•ï¼ˆBanker's Method / Accounting Methodï¼‰**
è®¡è´¦æ³•é€šè¿‡ä¸ºæ¯ä¸ªæ“ä½œâ€œé¢„ä»˜â€ä¸€å®šçš„è´¹ç”¨ï¼Œæ¥ä¿è¯æ•´ä¸ªæ“ä½œåºåˆ—ä¸­çš„æ¯ä¸ªæ“ä½œéƒ½æœ‰è¶³å¤Ÿçš„è´¹ç”¨æ”¯ä»˜æœ€åæƒ…å†µä¸‹çš„æ“ä½œä»£ä»·ã€‚æ¯æ¬¡æ“ä½œçš„è´¹ç”¨å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š
- **å®žé™…æˆæœ¬**ï¼šæ¯æ¬¡æ“ä½œéœ€è¦ç«‹å³æ”¯ä»˜çš„æˆæœ¬ã€‚
- **é¢„ä»˜æˆæœ¬ï¼ˆCreditï¼‰**ï¼šä¸ºæœªæ¥å¯èƒ½éœ€è¦èŠ±è´¹çš„æ˜‚è´µæ“ä½œé¢„ç•™çš„æˆæœ¬ã€‚

åœ¨è®¡è´¦æ³•ä¸­ï¼Œç®€å•æ“ä½œæ”¯ä»˜çš„è´¹ç”¨é€šå¸¸ä¼šé«˜äºŽå®ƒä»¬çš„å®žé™…æˆæœ¬ï¼Œè¿™æ ·å¤šä½™çš„è´¹ç”¨ï¼ˆå­˜å…¥â€œä¿¡ç”¨â€ï¼‰å¯ä»¥ç”¨æ¥æ”¯ä»˜åŽç»­å¤æ‚æ“ä½œçš„é«˜æ˜‚æˆæœ¬ã€‚

```ad-info
éœ€è¦å…·æœ‰ä¸€å®šçš„æŠ½è±¡æ€ç»´ï¼š
>è€ƒè™‘å¯¹ç®€å•çš„æ“ä½œåˆ°åº•æ”¶å–å¤šå°‘çš„è´¹ç”¨
```
### ä¸¾ä¾‹è¯´æ˜Žï¼š
ç»§ç»­ä»¥åŠ¨æ€æ•°ç»„ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬ä¸ºæ¯æ¬¡æ’å…¥æ“ä½œæ”¯ä»˜ \( 3 \) å•ä½çš„è´¹ç”¨ï¼š
1. å¯¹äºŽå¤§å¤šæ•°æ’å…¥æ“ä½œï¼Œå®žé™…æˆæœ¬æ˜¯ \( 1 \) å•ä½ï¼Œå› æ­¤æˆ‘ä»¬ä¼šå‰©ä¸‹ \( 2 \) å•ä½çš„è´¹ç”¨ï¼›
2. å½“éœ€è¦æ‰©å®¹æ—¶ï¼Œå¤åˆ¶æ“ä½œçš„å®žé™…æˆæœ¬æ˜¯ \( n \)ï¼Œä½†æˆ‘ä»¬ä¹‹å‰é€šè¿‡å¤šæ¬¡ç®€å•æ“ä½œç§¯ç´¯äº†è¶³å¤Ÿçš„â€œä¿¡ç”¨â€æ¥æ”¯ä»˜æ‰©å®¹çš„ä»£ä»·ã€‚

é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä¿è¯æ¯æ¬¡æ’å…¥æ“ä½œçš„æ‘Šè¿˜æˆæœ¬æ˜¯å¸¸æ•° \( O(1) \)ã€‚

### 3. **åŠ¿èƒ½æ³•ï¼ˆPotential Methodï¼‰**

åŠ¿èƒ½æ³•æ˜¯ä¸€ç§æ›´ä¸ºæ•°å­¦åŒ–çš„æ‘Šè¿˜åˆ†æžæ–¹æ³•ï¼Œå®ƒé€šè¿‡å®šä¹‰ä¸€ç§â€œåŠ¿èƒ½å‡½æ•°â€æ¥è¡¨ç¤ºæ•°æ®ç»“æž„çš„æ½œåœ¨çŠ¶æ€ï¼Œè¿™ç§åŠ¿èƒ½ç±»ä¼¼äºŽç³»ç»Ÿçš„èƒ½é‡ã€‚åŠ¿èƒ½å‡½æ•°çš„å€¼ä¼šéšç€æ•°æ®ç»“æž„çš„å˜åŒ–è€Œå¢žåŠ æˆ–å‡å°‘ã€‚åŠ¿èƒ½æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š
- å½“æ‰§è¡Œè¾ƒå»‰ä»·çš„æ“ä½œæ—¶ï¼ŒåŠ¿èƒ½å¢žåŠ ï¼›
- å½“æ‰§è¡Œæ˜‚è´µçš„æ“ä½œæ—¶ï¼ŒåŠ¿èƒ½å‡å°‘ï¼Œä»Žè€ŒæŠµæ¶ˆä¸€éƒ¨åˆ†ä»£ä»·ã€‚

```ad-star
**è®©æ¶ˆè€—å¤§çš„é‚£ä¸€æ­¥æ“ä½œåŠ¿èƒ½å¤§å¤§çš„é™ï¼**
>ä»¥æ­¤ä¸ºåŠ¿èƒ½å‡½æ•°çš„è®¾è®¡ç†å¿µ
```


### **ç»¼ä¸Šæ‰€è¿°**ï¼š
- **èšåˆæ³•**ï¼šé€šè¿‡è®¡ç®—ä¸€ç³»åˆ—æ“ä½œçš„æ€»æˆæœ¬å¹¶å¹³å‡åˆ†æ‘Šåˆ°æ¯ä¸ªæ“ä½œä¸Šï¼Œæ¥å¾—å‡ºæ‘Šè¿˜æˆæœ¬ã€‚
- **è®¡è´¦æ³•**ï¼šé€šè¿‡ä¸ºæ¯æ¬¡æ“ä½œè®¾å®šä¸€ä¸ªå›ºå®šçš„â€œé¢„ä»˜â€è´¹ç”¨ï¼Œå°†å¤šä½™çš„è´¹ç”¨å­˜å‚¨èµ·æ¥ä»¥æ”¯ä»˜å°†æ¥å¯èƒ½å‡ºçŽ°çš„é«˜æˆæœ¬æ“ä½œã€‚
- **åŠ¿èƒ½æ³•**ï¼šé€šè¿‡å®šä¹‰åŠ¿èƒ½å‡½æ•°è¡¡é‡æ•°æ®ç»“æž„çš„æ½œåœ¨çŠ¶æ€ï¼Œåˆ†æžæ¯æ¬¡æ“ä½œå‰åŽåŠ¿èƒ½çš„å˜åŒ–ï¼ŒæŽ¨å¯¼å‡ºæ‘Šè¿˜æˆæœ¬ã€‚

è¿™äº›æ–¹æ³•åœ¨æ‘Šè¿˜åˆ†æžä¸­çš„åº”ç”¨å„æœ‰ä¾§é‡ï¼Œä½†éƒ½èƒ½ç”¨äºŽåˆ†æžæ•°æ®ç»“æž„çš„æ“ä½œå¤æ‚åº¦ã€‚åœ¨é«˜çº§æ•°æ®ç»“æž„ä¸­ï¼Œå®ƒä»¬è¢«å¹¿æ³›ç”¨äºŽåˆ†æžä¾‹å¦‚å †ã€æ–æ³¢é‚£å¥‘å †ã€å“ˆå¸Œè¡¨ã€åŠ¨æ€æ•°ç»„ç­‰æ•°æ®ç»“æž„çš„æ“ä½œæ•ˆçŽ‡ã€‚

# AVLæ ‘çš„æ—‹è½¬

- åŽŸå› ï¼šæ‰§è¡Œæ’å…¥æ“ä½œæ—¶å¯èƒ½å¯¼è‡´AVLçš„ä¸€æ–¹åé‡ï¼Œéœ€è¦è¿›è¡Œè°ƒæ•´
- ç­–ç•¥ï¼šåŒå‘åé‡å¯¹å…¶å­æ ‘è¿›è¡Œåå‘çš„æ—‹è½¬ï¼Œå¼‚å‘åé‡æ‰§è¡Œä¸¤æ¬¡ä¸åŒçš„æ—‹è½¬
>https://www.cs.usfca.edu/~galles/visualization/AVLtree.html å¯è§†åŒ–

```ad-example
å·¦å­æ ‘åé‡ï¼ˆBF=-2ï¼‰çš„æƒ…å†µä¸ºä¾‹ï¼ˆå³å­æ ‘åé‡å¯¹ç§°ï¼‰ï¼š

-å·¦å­æ ‘ç»§ç»­åé‡ï¼Œå¯¹å·¦å­æ ‘å³æ—‹
-å³å­æ ‘åé‡ï¼Œå…ˆå¯¹å³å­æ ‘è¿›è¡Œå·¦æ—‹ï¼Œåœ¨å¯¹ç»“æžœçš„å·¦å­æ ‘è¿›è¡Œå³æ—‹
```

```ad-tip
xæ—‹å¯ä»¥ç†è§£ä¸ºé‡å¿ƒå‘xæ–¹å‘ç§»åŠ¨
```
```ad-star
å¹³è¡¡å› å­BF = å³å­æ ‘-å·¦å­æ ‘çš„é«˜åº¦ï¼
```

## ä¼ªä»£ç å®žçŽ°
ðŸŒ°ï¼š
```c
Maintain-Balanced (p)
	if h[ls[p]] - h[rs[p]] == 2
		if h[ls[ls[p]]] >= h[rs[ls[p]]] 
			Right-Rotate (p) 
		else 
			Left-Rotate (ls[p])
			Right-Rotate(p)
	else if h[ls[p]] - h[rs[p]] == -2
		if h[ls[rs[p]]] <= h[rs[rs[p]]]
			Left-Rotate (p)
		else
			Right-Rotate(rs[p])
			Left-Rotate(p)
```

## **æ¢æ ¹è§†è§’**
### LL Single Rotation
å°†åé‡æ‰€åœ¨çš„å­æ ‘ä½œä¸ºæ ¹R'ï¼Œç„¶åŽå°†åŽŸå…ˆçš„æ ¹èŠ‚ç‚¹Rä½œä¸ºå…¶å­èŠ‚ç‚¹ï¼›
åŽŸæ¥çš„æ ¹èŠ‚ç‚¹ç©ºç¼ºå·¦å­æ ‘åˆ™å–R'çš„å³å­©å­è¿žæŽ¥ï¼›å¦åˆ™å–Râ€˜çš„å·¦å­©å­è¿žæŽ¥

### LR & RL
1. æ‰¾åˆ°ä¸‰ä¸ªå…³é”®èŠ‚ç‚¹
2. å°†æœ€ä¸‹æ–¹çš„èŠ‚ç‚¹ä¸Šæµ®ä½œä¸ºæ ¹èŠ‚ç‚¹R
3. å‰©ä¸‹çš„ä¸¤ä¸ªèŠ‚ç‚¹Aã€Båˆ†åˆ«ä½œä¸ºRçš„å·¦å³å­æ ‘
4. ç”±äºŽç»è¿‡æ­¥éª¤â‘¡ä¼šä½¿å¾—èŠ‚ç‚¹Aã€Bå…±ç©ºç¼ºå·¦å³å­©å­åˆ†åˆ«ä¸€ä¸ªï¼Œå› æ­¤éœ€è¦å°†RåŽŸå…ˆçš„å·¦å³å­©å­ä½œä¸ºAã€Bçš„å·¦å³å­©å­

```ad-quote
https://note.isshikih.top/cour_note/D2CX_AdvancedDataStructure/Lec01/#%E6%8D%A2%E6%A0%B9%E8%A7%86%E8%A7%92
```

---
# Splay æ ‘
- å®šä¹‰ï¼š
	ä¼¸å±•æ ‘ï¼Œå¸Œæœ›åœ¨æ‘Šè¿˜å¤æ‚åº¦ `log N`çš„æƒ…å†µä¸‹å®Œæˆå¤§éƒ¨åˆ†å¯¹ç‚¹æ“ä½œ

```ad-tip
ä¸ŽAVLæ ‘è¿˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
>Splayä¸å†ç»´æŠ¤AVLæ ‘çš„å¹³è¡¡ç‰¹æ€§ï¼Œåªæ˜¯å¸Œæœ›å°½å¯èƒ½åœ°å¹³è¡¡
```

å¯¹ç‚¹æ“ä½œçš„æµç¨‹ï¼šå°†ç›®æ ‡ç‚¹ç§»åˆ°æ ¹éƒ¨ï¼ˆä¸æ–­æ—‹è½¬æ•´ä¸ªæ ‘çš„æž„é€ ï¼‰

- **æ“ä½œåˆ†ç±»**
	zig:
	zig-zig
	zig-zag

```ad-quote
ä¿®ä½¬å¯¹äºŽSplayå¯¹ç‚¹æ“ä½œçš„æ‘Šè¿˜å¤æ‚åº¦è¯æ˜Ž
>https://note.isshikih.top/cour_note/D2CX_AdvancedDataStructure/Lec01/#%E6%91%8A%E8%BF%98%E5%88%86%E6%9E%90
```
