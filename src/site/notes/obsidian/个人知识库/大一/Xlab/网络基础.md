---
{"dg-publish":true,"permalink":"/obsidian///xlab//","created":"2024-04-10T21:05:39.891+08:00","updated":"2024-09-08T15:25:05.487+08:00"}
---

# 网络基础
## 相关概念
1. 网关（协议转换器）对收到的信息进行翻译打包
>不同网络间通信需要经过网关
## IP地址
### 解读
1. 包含 Network Number与Host Number两部分
2. 具体位数的<mark style="background: #BBFABBA6;">对应</mark>依据<mark style="background: #ADCCFFA6;">子网掩码</mark>
	1. 子网掩码是32位二进制数，1串表示网络位，0串表示主机位
	2. 举例![Pasted image 20240410210811.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240410210811.png)![Pasted image 20240410210821.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240410210821.png)
	3. 解读：由子网掩码可知，网络位是192.168.33,主机位是112
### 划分子网
- 操作
	1. IP地址的二进制格式与子网掩码的二进制格式进行<mark style="background: #FFF3A3A6;">与运算</mark>
	2. 若**相等**，则说明处于<mark style="background: #FFF3A3A6;">同一个子网</mark>
## Debug 工具
>用于处理网络相关问题
- <mark style="background: #ADCCFFA6;">ipconfig/ifconfig</mark>
	1. 在<mark style="background: #BBFABBA6;">命令提示符</mark>下输入``ipconfig``，可以查看计算机的当前IP地址、子网掩码、默认网关以及其他网络接口信息。(Linux/Unix中为后者)
	2. <mark style="background: #ADCCFFA6;">ipconfig /all</mark>命令可以查看**更详细的网络配置信息**，包括DNS服务器、物理地址等。
---
# API
## 补充
### HTTPS
1. CAA用私钥加密实现签名；
2. 用户将此密钥作为可信任的公钥
	用户所装系统本身含有CAA的公钥信任列表

## 登录 & 鉴权
### 登录
- 安全性
	- 直接传输密码可能在中途被人抓包，从而导致密码泄露
		- 利用非对称加密来传递密码
	- `HTTPS`协议需要确认发送者的身份，有效避免了<mark style="background: #ADCCFFA6;">中间人攻击</mark>
		- 将非对称加密的密码直接发送给服务器，让服务器解密
- 请求次数
	- 多次输入密码进行身份验证/将密码在客户端缓存保留 都不是万全之策
	- 通过一定的机制，验证其他请求的身份，避免重复输入密码
### **常见的鉴权实现**
---
①Token
>最常见的鉴权方式，session也是一种`token`
- 流程
	1. 用户登录，服务端生成令牌`token`
	2. 服务端将此`token`传送给客户端
	3. 客户端凭借令牌发送之后的请求给服务端，服务端据此验证用户的身份
- 服务端为`HTTPS`前提下，Token的安全问题主要在于客户端
- 根据安全性和用户体验之间的权衡，调整`Token`的**过期时间的长短**
---
②Session
- 流程
	1. 用户登录，服务端生成`sessionID`储存并发送给客户端
	2. 客户端带着`sessionID`进行请求
	3. 服务端到自身的`数据库`，`缓存`中查询这个ID对应的用户
- 补充
	- 当用户A修改了密码，服务端<mark style="background: #FFF3A3A6;">可以</mark>删除A对应的所有Session实现<mark style="background: #FFF3A3A6;">强制注销</mark>
---
③JWT
> JSON Web Token也是Token的一种特殊实现
- 特点：
	- 在生成token的时候，会加入非敏感的用户信息（未经加密）
		- 因此，鉴权时服务端不必查找对应的用户信息
	- 使用密钥对整条token用HMAC做一次签名
	- 将权限分为不同的`scope`，并将用户具有的权限写入jwt中
		- 只需要解析jwt就可以知道用户是否具有某个api权限，不需要查找用户数据库等操作
		- 但是<mark style="background: #FFF3A3A6;">无法</mark>如session那样<mark style="background: #FFF3A3A6;">强制注销</mark>
- 无状态 context-less
	- 无法区分用户还是他人
---
④Oauth
>用于第三方鉴权
## 思考题
### 权限攻击与应对设计
①![Pasted image 20240510131832.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240510131832.png)
②API设计
1. **使用HTTPS**: 通过使用HTTPS而不是HTTP，可以保护数据传输过程中的数据不被窃听或修改。这对防止重放攻击和会话挟持尤其重要。
2. **令牌和会话管理**:
    - **有限的会话持续时间**：设置会话超时，使旧的会话ID快速过期，减少被攻击的时间窗口。
    - **令牌刷新机制**：定期刷新认证令牌，以减少被重放攻击利用的机会。
    - **使用一次性令牌**：对于某些敏感操作，使用一次性令牌可以防止重放攻击。
3. **输入验证与过滤**: 对API接收的所有输入进行严格的验证和过滤，以防止通过注入恶意数据来旁路访问控制。
4. **限制API访问**:
    - **基于角色的访问控制（RBAC）**：确保用户只能访问其权限范围内的资源。
    - **速率限制（Rate Limiting）**：通过限制请求的频率，可以减少攻击者利用API的能力。
5. **使用安全的API网关**: 部署API网关可以提供额外的安全层，如IP过滤、深度包检查和先进的认证机制。
### 第三方鉴权方式 e.g.
>OAuth2.0为例
![Pasted image 20240510132956.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240510132956.png)
![Pasted image 20240510133004.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240510133004.png)
# HWML+CSS+JS
## HEML和CSS
>https://developer.mozilla.org/zh-CN/ MDN网址
### 什么是HTML
- 一种超文本标记语言
- 用来创建网页的标准标记语言
- 常与CSS，JavaScript一起用于设计网页等
>https://developer.mozilla.org/zh-CN/docs/Learn/Getting_started_with_the_web/HTML_basics
### 特殊标记
>https://developer.mozilla.org/zh-CN/docs/Web/HTML

### CSS
- 用来给结构化文档添加样式（字体、间距、颜色）
## JS
>学习网址：[Learn X in Y Minutes: Scenic Programming Language Tours](https://learnxinyminutes.com/)
>环境：[codesandbox.io](https://codesandbox.io/)

