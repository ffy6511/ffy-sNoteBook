---
{"dg-publish":true,"permalink":"/obsidian////chap-6-register/","created":"2024-05-15T15:21:58.142+08:00","updated":"2024-09-08T15:25:05.422+08:00"}
---

# 1.å¯„å­˜å™¨è®¾è®¡
## ğŸ“ç›¸å…³æ¦‚å¿µ
1. å¯„å­˜å™¨ï¼šå…·æœ‰ä¸€å®š<mark style="background: #ADCCFFA6;">æ“ä½œ</mark>åŠŸèƒ½çš„è§¦å‘å™¨
	1. Save :
	2. Load :ä¸º1æ—¶å…è®¸æ—¶é’Ÿä¿¡å·å¯¹è§¦å‘å™¨èµ·ä½œç”¨
## âœ¨è®¾è®¡èŒƒå¼
- åŸå› ï¼š
	å½“è¾“å…¥çš„è§„æ¨¡å¢å¤§æ—¶ï¼ŒçŠ¶æ€å›¾/è¡¨çš„ç»˜åˆ¶ä¼šå˜å¾—ååˆ†å¤æ‚
- æ–¹æ³•
	1. ç”¨äº‹å…ˆè®¾è®¡å¥½çš„ç»„åˆé€»è¾‘
	2. ç”¨å°è§„æ¨¡ã€åŒæ€è·¯çš„å¯„å­˜å™¨è®¾è®¡è¿›è¡Œæ›¿æ¢
## ğŸŒ°è®¾è®¡æ€è·¯
1. **with clock gating**:![Pasted image 20240515153831.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240515153831.png)
# 2. å¯„å­˜å™¨ä¼ è¾“æ“ä½œ
- å«ä¹‰ï¼šå­˜å‚¨ä¿¡æ¯åœ¨å¯„å­˜å™¨ä¹‹é—´è½¬ç§»æ—¶å¯ä»¥å¤„ç†ã€å˜åŒ–
- åŸºæœ¬æ¡ä»¶ï¼š
	- å¯„å­˜å™¨
	- æ“ä½œå†…å®¹
		- åŸºæœ¬~åŒ…å«ï¼šload, count, shift, add, æŒ‰ä½æˆ–ç­‰ å®ƒä»¬è¢«ç§°ä¸º<mark style="background: #ADCCFFA6;">å¾®æ“ä½œ</mark>
	- æ“ä½œå‘ç”Ÿçš„æ§åˆ¶æ¡ä»¶
# 3.è®¾è®¡è¯­è¨€ï¼ˆè¡¨ç¤ºï¼‰
## ğŸŒ°ï¼š
![Pasted image 20240515155010.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240515155010.png)
1. ç”¨å­—æ¯/æ•°å­—è¡¨ç¤ºå¯„å­˜å™¨
2. (digits) æ¥è¡¨ç¤ºå¯„å­˜å™¨çš„æ¯”ç‰¹
3. $\leftarrow$è¡¨ç¤ºæ•°æ®çš„ä¼ è¾“æ–¹å‘
4. `,` é€—å·æ¥åˆ†éš”å¹³è¡Œæ“ä½œï¼ˆåŒæ—¶å‘ç”Ÿï¼‰
5. \[ ] è¡¨ç¤ºå­˜å‚¨ä¿¡æ¯çš„ä½ç½®
# 4. æ¡ä»¶ä¼ è¾“
- ç®€å•çš„æ¡ä»¶ä¼ è¾“ï¼š
ğŸŒ°  K1:(R2$\leftarrow$R1) è¡¨ç¤ºå½“`Load`ä¿¡å·K1ä¸º1æ—¶ï¼Œå¯ä»¥å°†R1çš„å€¼ä¼ è¾“ç»™R2ï¼ˆç­‰å¾…æ—¶é’Ÿä¿¡å·ï¼‰
	![Pasted image 20240522120547.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240522120547.png)
## æ¡ä»¶ä¼ è¾“è¡¨è¾¾å¼
- åŸç†ï¼šä¸ç®€å•çš„æ§åˆ¶ä¸€è‡´ï¼Œå½“æ•´ä½“ä¸º1æ—¶å³ä¾§çš„ä¿¡æ¯ä¼ è¾“å¯ä»¥å‘ç”Ÿï¼›å¯ä»¥æ¯”è¾ƒå¤æ‚
- ğŸŒ°æ§åˆ¶åŠ å‡æ³•ï¼š![Pasted image 20240522120800.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240522120800.png)
# 5. æ“ä½œ
- ğŸ“æ“ä½œç¬¦å·ï¼š![Pasted image 20240522121020.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240522121020.png)
	- æ³¨æ„åŒºåˆ†æ­¤å¤„çš„åŠ æ³•æ˜¯`+`,è€Œéæˆ–
	- åŒæ—¶åŒºåˆ†ä¿¡æ¯ä¼ è¾“çš„åˆ¤æ–­`+`ä¸æ“ä½œçš„`+`ï¼š
		ğŸŒ° $(K_1+K_2):R_1\leftarrow R_2+R_3$ ,ç¬¬ä¸€ä¸ª`+`æ˜¯<mark style="background: #FFF3A3A6;">é€»è¾‘åˆ¤æ–­</mark>ï¼›ç¬¬äºŒä¸ª`+`æ˜¯<mark style="background: #FFF3A3A6;">å€¼çš„è®¡ç®—</mark>
## âœ¨æ“ä½œè¡¥å……
 ### **<mark style="background: #BBFABBA6;">shift</mark>** 
 ğŸŒ°:![Pasted image 20240522121857.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240522121857.png)
	 `sl` è¡¨ç¤ºå·¦ç§»ï¼Œå³ä¾§ç¼ºå£è¡¥`0`;
	 `sr` è¡¨ç¤ºå³ç§»ï¼Œå·¦ä¾§ç¼ºå£è¡¥`0`
## ğŸ“æ“ä½œçš„è¯­æ³•
![Pasted image 20240522122255.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240522122255.png)
	ä¸»è¦æŒæ¡Verilogï¼›
	verilogå½“ä¸­<mark style="background: #FFF3A3A6;">æ— æ³•ç›´æ¥åšé™¤/ä¹˜æ³•</mark>ï¼Œéœ€è¦è‡ªå·±è®¾è®¡
# 6.å¯„å­˜å™¨ä¼ è¾“ç»“æ„
## ä¸‰æ€é—¨bus
- è¦æ±‚ï¼š
	- æ¯æ¬¡éƒ½åªèƒ½æœ‰ä¸€ä¸ªä¸‰æ€é—¨æ‰“å¼€
---
# 7. Colunter è®¡æ•°å™¨
- åˆ†ç±»ï¼š
	- Ripple Counters
## Ripple Counter è¡Œæ³¢è®¡æ•°å™¨
1. åŸºæœ¬åŸå‹ï¼š![Pasted image 20240522133824.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240522133824.png)
	æ—¶é’Ÿä¿¡å·ä½¿ä¸Šæ–¹çš„FFä¸æ–­ç¿»è½¬ï¼Œå¹¶å½“A:1->0ï¼ˆå‘ç”Ÿè¿›ä½ï¼‰æ—¶ï¼Œ$FF_B$å¾—åˆ°æ—¶é’Ÿä¸Šå‡æ²¿ä¿¡å·ï¼Œè‡ªèº«ç¿»è½¬ä¸€æ¬¡ã€‚å› æ­¤ï¼ŒAçš„å˜åŒ–é¢‘ç‡æ˜¯Bçš„ä¸¤å€ã€‚
2. å­˜åœ¨é—®é¢˜ï¼šå…·æœ‰å»¶æ—¶![Pasted image 20240522134122.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240522134122.png)
	é€çº§å…·æœ‰å»¶æ—¶ï¼›nä½æ—¶å»¶æ—¶æœ€ä¹…ä¸ºn $t_{PH}$ 
## åŒæ­¥è®¡æ•°å™¨
>åœ¨è¡Œæ³¢è®¡æ•°å™¨çš„`å»¶æ—¶`é—®é¢˜çš„å¯å‘ä¸‹ï¼Œè€ƒè™‘ç”¨ä¸€ä¸ªclockä¿¡å·æ¥æ§åˆ¶æ‰€æœ‰çš„è§¦å‘å™¨
![Pasted image 20240522145812.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240522145812.png)
## åŒæ­¥è½½å…¥
>ç›®çš„ï¼šå°†è®¡æ•°å™¨çš„å½“å‰å€¼è®¾ç½®ä¸ºå¸Œæœ›çš„å€¼
![Pasted image 20240522145915.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240522145915.png)
â“å¦‚ä½•å®ç°è®¾ç½®ï¼ˆ`load`ä¸`count`çš„ç»„åˆï¼šï¼‰
	`10`--åŠ è½½ï¼šæ­¤æ—¶æ¯ä¸ªæˆ–é—¨çš„ä¸Šæ–¹çš„ä¸é—¨æ¥å—åˆ°äº†æ¥è‡ª$D_i$ä¸`load`çš„ä¿¡å·ï¼Œä¸º`1`ï¼Œå› æ­¤å¯ä»¥æ ¹æ®è®¾ç½®çš„$D_i$çš„ç»„åˆæ¥æ”¹å˜å½“å‰çš„æ•°å€¼
	`01`--è®¡æ•°ï¼›
	`00`é”å­˜
âœ¨COè¡¨ç¤ºè®¡æ•°çš„**è¿›ä½** 
## ç±»ä¼¼çš„åº”ç”¨ï¼šä¸²å¹¶ç§»ä½å™¨
- ğŸ“![Pasted image 20240615192358.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240615192358.png)
- å½“`Shift`ä¸º`0`æ—¶ï¼Œæ¯ä¸ªç»„åˆçš„ç¬¬äºŒä¸ªä¸é—¨æ¥å—åˆ°çš„ä¿¡å·æ˜¯`Shift'`,`Load`,$D_i$ `Load`ä¸º`1`æ—¶ï¼Œå°†å¹¶è¡Œè½½å…¥æ•°æ®ï¼›
- `Shift`çš„ä¼˜å…ˆçº§è¾ƒé«˜ï¼Œå…¶ä¸º`1`æ—¶ï¼Œç¬¬äºŒä¸ªä¸é—¨çš„ç»“æœä¸€å®šæ˜¯`0`ï¼Œå› æ­¤ä¸ºä¸²å…¥ï¼Œ`Serial`çš„æ•°æ®ä¼ å…¥ç¬¬ä¸€ä¸ªå¯„å­˜å™¨ï¼Œå¹¶ä¸”æ¯ä¸ªå¯„å­˜å™¨çš„è¾“å‡ºä¼ å…¥ä¸‹ä¸€ä¸ªå¯„å­˜å™¨çš„ç¬¬ä¸€ä¸ªä¸é—¨çš„è¾“å…¥ï¼›
- å¯¹äºç¬¬ä¸‰ä¸ªä¸é—¨ï¼š`Shift'`,`Load'`,$D_i$è¡¨ç¤ºå½“`shift``load`ä¸º00æ—¶ï¼Œä¿æŒä¸å˜
- ![Pasted image 20240615192849.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240615192849.png)
	- æ³¨æ„æ­¤å¤„ç¡®å®ä¸ºå·¦ç§»ï¼Œå› ä¸ºä½ä½çš„è¾“å‡ºä¼ ç»™äº†é«˜ä½çš„è¾“å…¥
## å–æ¨¡è®¡æ•°å™¨
ğŸŒ°Counting Modulo 7:
	åŒæ­¥è½½å…¥çš„åº”ç”¨![Pasted image 20240522142005.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240522142005.png)
	â“ä¸ºä»€ä¹ˆå¯ä»¥å®ç°
		âœ…å½“`Q2Q1`ä¸º`11`ä¹Ÿå°±æ˜¯æ•°æ®ä¸º`6`æ—¶ï¼Œä¸é—¨è¾“å…¥`load`ä¸º1ï¼Œè¿™ä½¿å¾—ä¸‹ä¸€æ¬¡æ—¶é’Ÿæ²¿ä¿¡å·æ¥ä¸´çš„æ—¶å€™ï¼Œå°†D0~D3çš„è¾“å…¥ï¼ˆå‡ä¸º`0`ï¼‰load(èµ‹å€¼)ç»™Q3~Q0
		âœ¨å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°
			1. $D_i$å¯ä»¥æ§åˆ¶æ•°å€¼çš„ä¸‹ç¡®ç•Œï¼
			2. è€Œ$Q_i$çš„ä¸é—¨å¯ä»¥æ§åˆ¶æ¨¡çš„ä¸Šç¡®ç•Œï¼
			è¿™ä¹Ÿå¾—å‡ºäº†ä¸‹é¢çš„ğŸŒ°â€”â€”
ğŸŒ°ä»9å¼€å§‹çš„modulo 15:
	![Pasted image 20240522144500.png](/img/user/obsidian/%E5%9B%BE%E7%89%87%E5%AF%84%E5%AD%98%E5%99%A8/Pasted%20image%2020240522144500.png)
	- æ­¤å¤„`reset`ä¸å†ä½¿å¾—æ•°æ®ä»0å¼€å§‹ï¼Œè€Œæ˜¯åˆå§‹å€¼
# 8. Register Cell Design
>å¯„å­˜å™¨å•å…ƒè®¾è®¡
## åŸºæœ¬æ­¥éª¤
1. ç¡®å®šç³»ç»Ÿçš„è¡Œä¸º(specification)ï¼›
2. å®šä¹‰å¤–éƒ¨çš„è¾“å…¥ã€è¾“å‡ºï¼Œä»¥åŠæ§åˆ¶å•å…ƒ(control unit)å’Œæ•°æ®é€šè·¯(datapath)éœ€è¦çš„å¯„å­˜å™¨ï¼›
3. è®¾è®¡çŠ¶æ€æœºï¼›
4. å®šä¹‰å†…éƒ¨çš„æ§åˆ¶ä¿¡å·ã€çŠ¶æ€ä¿¡å·ï¼›
    - ç”¨è¿™äº›ä¿¡å·æ¥åˆ†é…è¾“å‡ºæ¡ä»¶(output condition)ã€è¾“å‡ºè¡Œä¸º(output actions)ç­‰ï¼ŒåŒ…æ‹¬å¯„å­˜å™¨ä¼ è¾“(register transfer)ï¼ˆä¸ªäººç†è§£æ˜¯è®¾è®¡å†…éƒ¨ä¿¡å·æ¥è¿›ä¸€æ­¥è®¾è®¡çŠ¶æ€æœºï¼ŒåŒ…æ‹¬è®¾è®¡ TCã€OCã€OA ç­‰ï¼‰ï¼›
5. ç»˜åˆ¶æ¡†å›¾(block diagram)ï¼›
6. è®¾è®¡æ§åˆ¶å•å…ƒå’Œæ•°æ®é€šè·¯çš„å¯„å­˜å™¨ä¼ è¾“é€»è¾‘(register transfer logic)ï¼›
7. è®¾è®¡æ§åˆ¶å•å…ƒé€»è¾‘(control unit logic)ï¼›
8. éªŒè¯æ­£ç¡®æ€§ï¼›
